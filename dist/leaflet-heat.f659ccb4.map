{"version":3,"sources":["leaflet-heat.js"],"names":["t","i","_canvas","document","getElementById","_ctx","getContext","_width","width","_height","height","_max","clear","prototype","defaultRadius","defaultGradient","data","_data","max","add","push","radius","a","_circle","createElement","s","e","_r","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","arc","Math","PI","closePath","fill","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","_grad","getImageData","draw","clearRect","length","globalAlpha","drawImage","n","_colorize","putImageData","window","simpleheat","L","HeatLayer","Layer","Class","extend","initialize","_latlngs","setOptions","setLatLngs","redraw","addLatLng","_heat","_updateOptions","_frame","_map","_animating","Util","requestAnimFrame","_redraw","onAdd","_initCanvas","_panes","overlayPane","appendChild","on","_reset","options","zoomAnimation","Browser","any3d","_animateZoom","onRemove","getPanes","removeChild","off","addTo","addLayer","DomUtil","create","testProp","style","getSize","x","y","addClass","blur","containerPointToLayerPoint","setPosition","h","o","r","d","_","l","m","Bounds","point","c","u","maxZoom","getMaxZoom","f","pow","min","getZoom","g","p","v","_getMapPanePos","w","latLngToContainerPoint","contains","floor","alt","round","minOpacity","getZoomScale","zoom","_getCenterOffset","center","_multiplyBy","subtract","setTransform","TRANSFORM","getTranslateString","heatLayer"],"mappings":"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","file":"leaflet-heat.f659ccb4.map","sourceRoot":"..","sourcesContent":["/*\n (c) 2014, Vladimir Agafonkin\n simpleheat, a tiny JavaScript library for drawing heatmaps with Canvas\n https://github.com/mourner/simpleheat\n*/\n!(function () {\n  \"use strict\";\n\n  function t(i) {\n    return this instanceof t ? (this._canvas = i = \"string\" == typeof i ? document.getElementById(i) : i, this._ctx = i.getContext(\"2d\"), this._width = i.width, this._height = i.height, this._max = 1, void this.clear()) : new t(i)\n  }\n  t.prototype = {\n    defaultRadius: 25,\n    defaultGradient: {\n      .4: \"blue\",\n      .6: \"cyan\",\n      .7: \"lime\",\n      .8: \"yellow\",\n      1: \"red\"\n    },\n    data: function (t, i) {\n      return this._data = t, this\n    },\n    max: function (t) {\n      return this._max = t, this\n    },\n    add: function (t) {\n      return this._data.push(t), this\n    },\n    clear: function () {\n      return this._data = [], this\n    },\n    radius: function (t, i) {\n      i = i || 15;\n      var a = this._circle = document.createElement(\"canvas\"),\n        s = a.getContext(\"2d\"),\n        e = this._r = t + i;\n      return a.width = a.height = 2 * e, s.shadowOffsetX = s.shadowOffsetY = 200, s.shadowBlur = i, s.shadowColor = \"black\", s.beginPath(), s.arc(e - 200, e - 200, t, 0, 2 * Math.PI, !0), s.closePath(), s.fill(), this\n    },\n    gradient: function (t) {\n      var i = document.createElement(\"canvas\"),\n        a = i.getContext(\"2d\"),\n        s = a.createLinearGradient(0, 0, 0, 256);\n      i.width = 1, i.height = 256;\n      for (var e in t) s.addColorStop(e, t[e]);\n      return a.fillStyle = s, a.fillRect(0, 0, 1, 256), this._grad = a.getImageData(0, 0, 1, 256).data, this\n    },\n    draw: function (t) {\n      this._circle || this.radius(this.defaultRadius), this._grad || this.gradient(this.defaultGradient);\n      var i = this._ctx;\n      i.clearRect(0, 0, this._width, this._height);\n      for (var a, s = 0, e = this._data.length; e > s; s++) a = this._data[s], i.globalAlpha = Math.max(a[2] / this._max, t || .05), i.drawImage(this._circle, a[0] - this._r, a[1] - this._r);\n      var n = i.getImageData(0, 0, this._width, this._height);\n      return this._colorize(n.data, this._grad), i.putImageData(n, 0, 0), this\n    },\n    _colorize: function (t, i) {\n      for (var a, s = 3, e = t.length; e > s; s += 4) a = 4 * t[s], a && (t[s - 3] = i[a], t[s - 2] = i[a + 1], t[s - 1] = i[a + 2])\n    }\n  }, window.simpleheat = t\n}()),\n/*\n (c) 2014, Vladimir Agafonkin\n Leaflet.heat, a tiny and fast heatmap plugin for Leaflet.\n https://github.com/Leaflet/Leaflet.heat\n*/\nL.HeatLayer = (L.Layer ? L.Layer : L.Class).extend({\n  initialize: function (t, i) {\n    this._latlngs = t, L.setOptions(this, i)\n  },\n  setLatLngs: function (t) {\n    return this._latlngs = t, this.redraw()\n  },\n  addLatLng: function (t) {\n    return this._latlngs.push(t), this.redraw()\n  },\n  setOptions: function (t) {\n    return L.setOptions(this, t), this._heat && this._updateOptions(), this.redraw()\n  },\n  redraw: function () {\n    return !this._heat || this._frame || this._map._animating || (this._frame = L.Util.requestAnimFrame(this._redraw, this)), this\n  },\n  onAdd: function (t) {\n    this._map = t, this._canvas || this._initCanvas(), t._panes.overlayPane.appendChild(this._canvas), t.on('moveend', this._reset, this), t.options.zoomAnimation && L.Browser.any3d && t.on('zoomanim', this._animateZoom, this), this._reset()\n  },\n  onRemove: function (t) {\n    t.getPanes().overlayPane.removeChild(this._canvas), t.off('moveend', this._reset, this), t.options.zoomAnimation && t.off('zoomanim', this._animateZoom, this)\n  },\n  addTo: function (t) {\n    return t.addLayer(this), this\n  },\n  _initCanvas: function () {\n    var t = this._canvas = L.DomUtil.create('canvas', 'leaflet-heatmap-layer leaflet-layer'),\n      i = L.DomUtil.testProp(['transformOrigin', 'WebkitTransformOrigin', 'msTransformOrigin'])\n    t.style[i] = '50% 50%';\n    var a = this._map.getSize()\n    t.width = a.x, t.height = a.y\n    var s = this._map.options.zoomAnimation && L.Browser.any3d\n    L.DomUtil.addClass(t, 'leaflet-zoom-' + (s ? 'animated' : 'hide')), this._heat = simpleheat(t), this._updateOptions()\n  },\n  _updateOptions: function () {\n    this._heat.radius(this.options.radius || this._heat.defaultRadius, this.options.blur), this.options.gradient && this._heat.gradient(this.options.gradient), this.options.max && this._heat.max(this.options.max)\n  },\n  _reset: function () {\n    var t = this._map.containerPointToLayerPoint([0, 0])\n    L.DomUtil.setPosition(this._canvas, t)\n    var i = this._map.getSize()\n    this._heat._width !== i.x && (this._canvas.width = this._heat._width = i.x), this._heat._height !== i.y && (this._canvas.height = this._heat._height = i.y), this._redraw()\n  },\n  _redraw: function () {\n    var t, i, a, s, e, n, h, o, r, d = [],\n      _ = this._heat._r,\n      l = this._map.getSize(),\n      m = new L.Bounds(L.point([-_, -_]), l.add([_, _])),\n      c = void 0 === this.options.max ? 1 : this.options.max,\n      u = void 0 === this.options.maxZoom ? this._map.getMaxZoom() : this.options.maxZoom,\n      f = 1 / Math.pow(2, Math.max(0, Math.min(u - this._map.getZoom(), 12))),\n      g = _ / 2,\n      p = [],\n      v = this._map._getMapPanePos(),\n      w = v.x % g,\n      y = v.y % g\n    for (t = 0, i = this._latlngs.length; i > t; t++)\n      {if (a = this._map.latLngToContainerPoint(this._latlngs[t]), m.contains(a)) {\n        e = Math.floor((a.x - w) / g) + 2, n = Math.floor((a.y - y) / g) + 2;\n        var x = void 0 !== this._latlngs[t].alt ? this._latlngs[t].alt : void 0 !== this._latlngs[t][2] ? +this._latlngs[t][2] : 1;\n        r = x * f, p[n] = p[n] || [], s = p[n][e], s ? (s[0] = (s[0] * s[2] + a.x * r) / (s[2] + r), s[1] = (s[1] * s[2] + a.y * r) / (s[2] + r), s[2] += r) : p[n][e] = [a.x, a.y, r]\n      }} for (t = 0, i = p.length; i > t; t++)\n      {if (p[t])\n        for (h = 0, o = p[t].length; o > h; h++) s = p[t][h], s && d.push([Math.round(s[0]), Math.round(s[1]), Math.min(s[2], c)]);}\n    this._heat.data(d).draw(this.options.minOpacity), this._frame = null\n  },\n  _animateZoom: function (t) {\n    var i = this._map.getZoomScale(t.zoom),\n      a = this._map._getCenterOffset(t.center)._multiplyBy(-i).subtract(this._map._getMapPanePos())\n    L.DomUtil.setTransform ? L.DomUtil.setTransform(this._canvas, a, i) : this._canvas.style[L.DomUtil.TRANSFORM] = L.DomUtil.getTranslateString(a) + ' scale(' + i + ')'\n  }\n}), L.heatLayer = function (t, i) {\n  return new L.HeatLayer(t, i)\n}\n"]}